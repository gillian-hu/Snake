package snake;

import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics2D;
import java.io.File;
import java.util.ArrayList;

import utilities.GDV5;

public class rat {
	
	private int rat = 0x1F400;
	private String ratty = new String(Character.toChars(rat));
	private static int xRat = ((int)(Math.random()*25))*30;
	private static int yRat = ((int)(Math.random()*25))*30 -5;
	static int score = 0;
	static int topScore = 0;
	
	public void drawRat(Graphics2D pb) {
		pb.setFont(new Font("Monospaced",Font.PLAIN, 30));
		pb.drawString(ratty,xRat, yRat);
	}
	
	public void updateRat(ArrayList<box> snakeArr) {
		if (snake.snakeArr.get(0).x == xRat && snake.snakeArr.get(0).y <= yRat - 25 && snake.snakeArr.get(0).y >= yRat - 45) {
			snakeArr.add(new box((snake.snakeArr.get(snake.snakeArr.size()-1).x),(snake.snakeArr.get(snake.snakeArr.size()-1).y),30,30, Color.CYAN));
			this.playsound();
			xRat = ((int)(Math.random()*25))*30;
			yRat = ((int)(Math.random()*25))*30 - 5;
			score++;
			if (score > topScore) {
				topScore = score;
			}
		}
	}
	
	public static void playsound() {
		File eatFile = new File("custom.wav");
		GDV5.PlaySound(eatFile);
	}
	
	public void moveRat() {
		if (snake.counter == 4) {
			int random = (int)(Math.random()*4);
			while (yRat <= 60 && random == 1) {
				random = (int)(Math.random()*4);
			}
			while (yRat >= 690 && random == 2) {
				random = (int)(Math.random()*4);
			}
			while (xRat <= 60 && random == 3) {
				random = (int)(Math.random()*4);
			}
			while (xRat >= 690 && random == 4) {
				random = (int)(Math.random()*4);
			}
			
			if (random == 1) {
				yRat -= 30;
			}
			if (random == 2) {
				yRat += 30;
			}
			if (random == 3) {
				xRat -= 30;
			}
			if (random == 4) {
				xRat += 30;
			}
			
			snake.counter = 0;
		}
	}
}
